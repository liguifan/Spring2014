package string_manipulation;
import java.lang.*;
import java.util.Stack;


public class simplify_path {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		//String str="/../ptervsMY/../XHZ/PmReT///././om/.///NID/./nb/../////../OzVU/..///////..///.///Fbz/.///JkBLsBPOtaZfJxBsr/////./PlKqDZibpe///BojpVLSKRxwoNTye/DouOLUweLjfjmSVnNB/gkVRoZplAXmDApDcfz/../../TGuyzi/LxiuqfGMIVgSqwjjKn///nrUL/./UXubqdyqDdjYpPjxcK/../skBTmgzFvPvRRUVJZaj/.///./dXMwqDITFGedfD///./../SJsnjqaejDumfKMgfIwa/./AkIkoLqSFqCluW/YFroCAYXGPBhYeIMWl/ie/FMGzVASoRbbFRj/cI/zbVOaYMkHjNj/LO/cHvxnYfEaWabThaWbu/./../lCzgrdFsIcrgTsTNG///qRHYGgDkc/ZNQXkAPmygMEp/./iD/YjpUiwMrRUI///SSeyNJTkkVUNQaEmeO/./YVhKivJXOMBiaF/tnyodagYEHDRZaHXFF/mKZLDarbdM/../FgaTiMQHaULpidm/../Rs/.././mSovxOdRAsqApStB/././QgTXzkoJ/../BR/jyUfTCJx/MkXYqXcXFUo///../EdLxgz/./GNrHjtXIwSvKGKr/./KdPo/QlpxuwxRk///Z/KX/JKPkjMrhZ/./////.././//////zXDkQvxQHRj/kcVCaMpRRTbrpjqJ///zMPHxrk/././H///LxRIytui///QsPZecj/////../WKyepNvAXv/JKSJoymertVFOQZgy/eyChfvJciPRaqc/kQDMydOjqDCUeiMF/../PSWbWSmPbNjRxMePqP///qLGDZwcNVSnWz/HvXN///WSWg/esoKtXeevuWTrQFEBlX/./zisxX/../EsUvBkbmtXZgRPeBdqA/DFGWEcQUtgsGlMyB/RduYIuxsCHyCnaDywQRq/TDZCpShqrw/.///tmiRNSCoygMYBcY/fKdCfOzMLZnjOcaOJula/.././wW/./JBMLkAuH/Wxi/uVovvcTKWRviPqjhnm/uJk/../glZFVEVPG/SdwxUNmDirhnl/AqJfZ///../sgWRJUqyJG/./nKtZIW/DhopPsvKicLISLoJjYZ/JBnNVrEzRA/./XK/.///KyKqy/.././//kkdrwuvBdXJPBQW/ULhGXIghUqXk/";
		String str="/...";
		System.out.println(str.substring(1)=="...");
		String str1=simplifyPath(str);
		String non=str1.replaceAll("[.]", "");
		System.out.println(non);
	}
	
	
	public static String simplifyPath(String path) {
		int counter1=0;
		int last=0;
		if(path=="/")
			return path;
		for(int i=0; i<path.length()-1;i++){
			if(path.charAt(i)=='/')
				counter1++;
			System.out.println(counter1);
		}
		if(path.charAt(path.length()-1)=='/'){
			System.out.println("in");
			counter1++;
			last=1;
		}
		else
			counter1++;
		System.out.println("total counter "+counter1);
		int counter2=0;
		int mark=0;
		for(int i=0;i<path.length();i++){
			if(path.charAt(i)=='/'){
				counter2++;
				if(counter2==counter1-1)
					 mark=i;
			}
		}
		String newstring=new String();
		if(last==0){
			newstring=path.substring(mark);
		}
		else{
			newstring=path.substring(mark,path.length()-1);
		}
		
		if(newstring.substring(1)!="...")
			newstring.replaceAll(".","");
		
		return newstring;
}
	
	public String simplifyPath2(String path) {
        // Start typing your Java solution below
        // DO NOT write main() function
        String[] paths = path.split("/");
        Stack<String> stack = new Stack();
        
        for(String name : paths) {
            if(name.equals("..") && !stack.isEmpty()) {
                stack.pop();
            }
            if(!name.equals("") && !name.equals(".") && !name.equals("..")) {
                stack.push(name);
            }
        }
        
        
        if(stack.isEmpty()) return "/";
        
        Stack<String> stack2 = new Stack();
        while(!stack.isEmpty()) {
            stack2.push(stack.pop());
        }
        stack = stack2;
        StringBuilder sb = new StringBuilder();
        while(!stack.isEmpty()) {
            sb.append('/');
            sb.append(stack.pop());
        }
        return sb.toString();
    }
	
	
}