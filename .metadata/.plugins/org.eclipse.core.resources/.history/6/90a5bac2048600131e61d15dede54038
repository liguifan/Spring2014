package perceptron;

import java.io.BufferedWriter;
import java.io.FileWriter;
import java.util.ArrayList;

import datastructure.Tuple;

public class test1 {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		double[] weight=new double[6];
		
		ArrayList<Tuple> path=new ArrayList<Tuple>();
		path.add(new Tuple(1,1d));
		path.add(new Tuple(2,2d));
		path.add(new Tuple(3,3d));
//		path.add(new Tuple(4,4d));
		path.add(new Tuple(5,5d));
		path.add(new Tuple(0,51d));
		
		double te=sparse_dot_product(weight, path);
		weight=update_weight(weight, 1, path);
		te=sparse_dot_product(weight, path);
		weight=update_weight(weight, 1, path);
		te=sparse_dot_product(weight, path);
		for(double x:weight){
		System.out.println(x);
		}
		System.out.println(te);
		
		double[] weight1=new double[100];
		
		for(int i = 0; i < weight1.length; i++) {
		    try{ 
		    	BufferedWriter bw = new BufferedWriter(new FileWriter("birdobservations.txt", true));
		    
		        String s;
		        s = weight[i];
		        bw.write(s);
		        bw.flush();
		    } catch(IOException ex) {}  
		}
	}
	
	
	
	
public static double sparse_dot_product(double[] weight, ArrayList<Tuple> tuple){
		
		double sum=0;
		for(Tuple x:tuple){
			sum+=weight[x.index]*x.value;
		}
		return sum;
	}
	
	public static double[] update_weight(double[] weight, int y, ArrayList<Tuple> tuple){
		for(Tuple x:tuple){
			weight[x.index]+=y*x.value;
		}
		return weight;
	}

}
